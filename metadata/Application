{
    "type": "Ext.app.Application",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "models": [
            "Session"
        ],
        "stores": [
            "SessionStore"
        ],
        "views": [
            "MainView",
            "CarePanel",
            "CalendarPanel",
            "HistoryPanel",
            "LoginPanel",
            "RegisterPanel",
            "MyContainer",
            "ContactList",
            "CareList",
            "ShareList"
        ],
        "controllers": [
            "UIController"
        ],
        "name": "CareMe"
    },
    "designerId": "application",
    "cn": [
        {
            "type": "fixedfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "launch",
                "fn": "launch",
                "implHandler": [
                    "var _this = this;",
                    "new Ext.util.DelayedTask(function () {",
                    "    Ext.Viewport.setMasked(false);",
                    "    Ext.Viewport.add([",
                    "    { xtype: 'loginpanel' },",
                    "    { xtype: 'mainview' },",
                    "    { xtype: 'registerpanel' }",
                    "    ]);",
                    "",
                    "}).delay(500);",
                    "",
                    "var store = Ext.getStore(\"SessionStore\");",
                    "",
                    "",
                    "",
                    "store.load();",
                    "",
                    "debug = store;",
                    "",
                    "var session = store.first();",
                    "",
                    "if(session) {",
                    "",
                    "    Ext.Ajax.request({",
                    "        url: 'http://192.168.0.103:9000/session',",
                    "        method: 'POST',",
                    "        params: {",
                    "            'email':session.get(\"email\"),",
                    "            'session': session.get(\"session\")",
                    "        },",
                    "        success: function(response) {",
                    "            var text = response.responseText;",
                    "            var json = JSON.parse(text);",
                    "",
                    "            if(json.status === \"OK\") {",
                    "                Ext.Viewport.add({",
                    "                    xclass: 'CareMe.view.MainView'",
                    "                });",
                    "            } else {",
                    "                _this.showLogin();",
                    "            }",
                    "        },",
                    "        failure : function(response) {",
                    "            Ext.Msg.alert('Error','Error while submitting the form');",
                    "            var text = response.responseText;",
                    "            var json = JSON.parse(text);",
                    "            console.log(json);      ",
                    "        }",
                    "    });",
                    "} else {",
                    "    _this.showLogin();",
                    "}",
                    "",
                    "",
                    "/*",
                    "if(Ext.browser.is.PhoneGap && !Ext.os.is.Desktop) {",
                    "document.addEventListener(\"deviceready\", this.mainLaunch, false);",
                    "} else {",
                    "this.mainLaunch();",
                    "}",
                    "*/",
                    "",
                    "",
                    ""
                ]
            },
            "designerId": "2d6efb62-28b1-487a-8f4a-d2a050aba191"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "showLogin",
                "fn": "showLogin",
                "implHandler": [
                    "    Ext.Viewport.add({",
                    "        xclass: 'CareMe.view.LoginPanel'",
                    "    });"
                ]
            },
            "designerId": "54e344b6-3d2b-4a94-bbdf-90e24131b334"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "mainLaunch",
                "fn": "mainLaunch",
                "implHandler": [
                    ""
                ]
            },
            "designerId": "3c776875-d8fc-432d-8445-03ee994ee25b"
        }
    ]
}