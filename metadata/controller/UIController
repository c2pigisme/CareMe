{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "UIController"
    },
    "designerId": "fb00b353-fb0f-4c6c-b6be-18fe058eaa8e",
    "cn": [
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "onCareTap",
                "fn": "onCareTap",
                "implHandler": [
                    "var me = this,care;\r",
                    "\r",
                    "care = Ext.create('CareMe.view.CarePanel', {title: 'iCare'});\r",
                    "console.log(me);\r",
                    "me.getMainView().push(care);\r",
                    ""
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "mainview button[text='iCare']"
            },
            "designerId": "0ba968d9-84b4-4653-886a-023f2171e23c"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "mainView",
                "designer|displayName": "mainView",
                "ref": "mainView",
                "selector": "mainview"
            },
            "designerId": "34dd9223-4040-46b3-af96-125028602179"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "onProfileButtonTap",
                "fn": "onProfileButtonTap",
                "implHandler": [
                    "var me = this,profile;\r",
                    "\r",
                    "profile = Ext.create('CareMe.view.ProfilePanel', {title: 'Profile'});\r",
                    "me.getMainView().push(profile);\r",
                    ""
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "mainview button[text='Profile']"
            },
            "designerId": "ca95f474-0fe2-4f05-b323-b1bd45f886dc"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "onCarelendarButtonTap",
                "fn": "onCarelendarButtonTap",
                "implHandler": [
                    "var me = this,calendar;\r",
                    "\r",
                    "calendar = Ext.create('CareMe.view.CalendarPanel', {title: 'Calendar'});\r",
                    "me.getMainView().push(calendar);\r",
                    ""
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "mainview button[text='Carelendar']"
            },
            "designerId": "8399bb06-8faa-43bd-b849-f289ec3d721d"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "onHistoryButtonTap",
                "fn": "onHistoryButtonTap",
                "implHandler": [
                    "var me = this,history;\r",
                    "\r",
                    "history = Ext.create('CareMe.view.HistoryPanel', {title: 'History'});\r",
                    "me.getMainView().push(history);\r",
                    ""
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "mainview button[text='History']"
            },
            "designerId": "54fa0b12-b23f-4d77-b70f-ad160d1fb3d5"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "onLogInButtonTap",
                "fn": "onLogInButtonTap",
                "implHandler": [
                    "\r",
                    "var _this = this, loginPanel, mainView, \r",
                    "usernameField, passwordField, \r",
                    "username, password, label;\r",
                    "\r",
                    "loginPanel = _this.getLoginPanel();\r",
                    "mainView = _this.getMainView();\r",
                    "\r",
                    "usernameField = loginPanel.down('#userNameTextField');\r",
                    "passwordField = loginPanel.down('#passwordTextField');\r",
                    "label = loginPanel.down('#signInFailedLabel');\r",
                    "\r",
                    "username = usernameField.getValue();\r",
                    "password = passwordField.getValue();\r",
                    "label.hide();\r",
                    "\r",
                    "console.log('=====' + loginPanel);\r",
                    "console.log('=====' + mainView);\r",
                    "console.log('username : ' + username);\r",
                    "console.log('password: ' + password);\r",
                    "\r",
                    "var task = Ext.create('Ext.util.DelayedTask', function () {\r",
                    "    label.setHtml('');\r",
                    "    _this.onSignIn(username, password);\r",
                    "    usernameField.setValue('');\r",
                    "    passwordField.setValue('');\r",
                    "});\r",
                    "task.delay(500);\r",
                    "\r",
                    ""
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "loginpanel button[itemId='logInButton']"
            },
            "designerId": "e30c340f-7ade-4572-903b-ec71be3bb364"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "loginPanel",
                "designer|displayName": "loginPanel",
                "ref": "loginPanel",
                "selector": "loginpanel"
            },
            "designerId": "1bd4cd35-59e5-450e-b850-1edc9a155514"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "getSlideLeftTransition",
                "fn": "getSlideLeftTransition",
                "implHandler": [
                    "return { type: 'slide', direction: 'left' };\r",
                    ""
                ]
            },
            "designerId": "d6a5a27d-ba2c-455e-9dd5-cbede8e4be8a"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "getTransitionEffect",
                "fn": "getTransitionEffect",
                "designer|params": [
                    "type",
                    "direction"
                ],
                "implHandler": [
                    "return { 'type': type, 'direction':  direction };"
                ]
            },
            "designerId": "66c3a44c-8241-4baa-b1ab-91a6b7bf6998"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "loginFailure",
                "fn": "loginFailure",
                "implHandler": [
                    "var loginPanel, _this = this;\r",
                    "loginPanel.showSignInFailedMessage(message);\r",
                    "loginPanel.setMasked(false);\r",
                    ""
                ]
            },
            "designerId": "d2951133-31a7-44f5-a210-ef5a5c637638"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "loginSuccess",
                "fn": "loginSuccess",
                "implHandler": [
                    ""
                ]
            },
            "designerId": "24a57fde-1a4e-496d-b545-ae8fb5931b71"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "onSignIn",
                "fn": "onSignIn",
                "designer|params": [
                    "username",
                    "password"
                ],
                "implHandler": [
                    "var _this = this,\r",
                    "    loginPanel = _this.getLoginPanel();\r",
                    "\r",
                    "console.log('-- onSignIn() --');\r",
                    "\r",
                    "if (username.length === 0 || password.length === 0) {\r",
                    "    console.log(' onSignIn() - login failure!');\r",
                    "    loginPanel.showSignInFailedMessage('Please enter your username and password.');\r",
                    "    loginPanel.setMasked(false);\r",
                    "    return;\r",
                    "\r",
                    "} else {\r",
                    "\r",
                    "    console.log('onSignIn() - Signed in.');\r",
                    "    loginPanel = _this.getLoginPanel();\r",
                    "    mainView = _this.getMainView();\r",
                    "    loginPanel.setMasked(false);\r",
                    "    Ext.Viewport.animateActiveItem(mainView, _this.getTransitionEffect('slide', 'left'));\r",
                    "}\r",
                    ""
                ]
            },
            "designerId": "37eeb082-33d4-4c89-9d1c-22268c800497"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "onRegisterSubmit",
                "fn": "onRegisterSubmit",
                "designer|params": [
                    "username",
                    "password"
                ],
                "implHandler": [
                    "var _this = this, registerPanel;\r",
                    "\r",
                    "registerPanel = _this.getRegisterPanel();\r",
                    "\r",
                    "console.log(' -- onRegisterSubmit() --');\r",
                    "/*\r",
                    "TODO:\r",
                    "1. ajax submit\r",
                    "2. verify result\r",
                    "   - fail response then display error label\r",
                    "   - simple verification\r",
                    "3. display main view\r",
                    "\r",
                    "*/\r",
                    "//Ext.Viewport.animateActiveItem(registerPanel, _this.getTransitionEffect('slide', 'down'));"
                ]
            },
            "designerId": "e92e0b99-c61c-4092-aff7-5e4cadb62829"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "onRegister",
                "fn": "onRegister",
                "implHandler": [
                    "var _this = this, registerPanel;\r",
                    "\r",
                    "registerPanel = _this.getRegisterPanel();\r",
                    "\r",
                    "console.log(' -- onRegister() --');\r",
                    "\r",
                    "\r",
                    "Ext.Viewport.animateActiveItem(registerPanel, _this.getTransitionEffect('slide', 'down'));"
                ]
            },
            "designerId": "a0d51265-00c2-45c0-b836-e2c6b3718dc7"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "onRegisterCancel",
                "fn": "onRegisterCancel",
                "implHandler": [
                    "var _this = this, loginPanel;\r",
                    "\r",
                    "loginPanel = _this.getLoginPanel();\r",
                    "\r",
                    "console.log(' -- onRegisterCancel() --');\r",
                    "\r",
                    "Ext.Viewport.animateActiveItem(loginPanel, _this.getTransitionEffect('slide', 'up'));"
                ]
            },
            "designerId": "087f58c7-ffa1-4bf6-bec1-2d7075c790ab"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "registerPanel",
                "designer|displayName": "registerPanel",
                "ref": "registerPanel",
                "selector": "registerpanel"
            },
            "designerId": "80f5780c-cac4-4cc2-81b6-0984cb683ac1"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "onCancelButtonTap",
                "fn": "onCancelButtonTap",
                "implHandler": [
                    "var _this = this;\r",
                    "var task = Ext.create('Ext.util.DelayedTask', function () {\r",
                    "    _this.onRegisterCancel();\r",
                    "});\r",
                    "task.delay(500);\r",
                    ""
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "registerpanel button[itemId='cancel']"
            },
            "designerId": "7f96389c-da03-467f-9e31-615fea9fbf78"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "onRegisterSubmitButtonTap",
                "fn": "onRegisterSubmitButtonTap",
                "implHandler": [
                    "var _this = this, usernameField, passwordField,\r",
                    "    username, password;\r",
                    "\r",
                    "regPanel = _this.getRegisterPanel();\r",
                    "mainView = _this.getMainView();\r",
                    "\r",
                    "usernameField = regPanel.down('#userNameTextField');\r",
                    "passwordField = regPanel.down('#passwordTextField');\r",
                    "\r",
                    "username = usernameField.getValue();\r",
                    "password = passwordField.getValue();\r",
                    "\r",
                    "var task = Ext.create('Ext.util.DelayedTask', function () {\r",
                    "    _this.onRegisterSubmit(username, password);\r",
                    "});\r",
                    "\r",
                    "task.delay(500);\r",
                    ""
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "registerpanel button[itemId='registerSubmit']"
            },
            "designerId": "eeb07e18-c08c-4531-9c44-f84f09106c1a"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "onRegisterButtonTap",
                "fn": "onRegisterButtonTap",
                "implHandler": [
                    "var _this = this;\r",
                    "var task = Ext.create('Ext.util.DelayedTask', function () {\r",
                    "    _this.onRegister();\r",
                    "});\r",
                    "task.delay(500);\r",
                    ""
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "loginpanel button[itemId='register']"
            },
            "designerId": "dad92f0c-d47b-4825-b092-c3dc77f0b8db"
        }
    ]
}